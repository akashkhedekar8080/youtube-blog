<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include("./partials/head") %>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
  </head>
  <body>
    <%- include("./partials/nav") %>

    <div class="container mt-4">
      <% if (locals.blogs && locals.blogs.length > 0) { %>
      <div class="row">
        <% blogs.forEach((blog) => { %>
        <div class="col-md-3 m-4">
          <div class="card" style="width: 20rem; height: 28rem">
            <img
              src="<%= blog.coverImageURL %>"
              class="card-img-top img-fluid rounded img-thumbnail"
              alt="Blog Image"
              style="width: 20rem; height: 15rem"
            />
            <div class="card-body">
              <h5 class="card-title"><%= blog.title %></h5>
              <p class="card-text text-truncate"><%= blog.body%></p>
              <a href="/blog/<%= blog._id  %>" class="btn btn-primary">View</a>
              <% if(blog.createdBy._id == locals.user?._id) {%>
              <a href="/blog/edit/<%= blog._id  %>" class="btn btn-success"
                >Edit</a
              >
              <a href="/blog/delete/<%= blog._id  %>" class="btn btn-danger">
                Delete</a
              >
              <% } %>
            </div>
          </div>
        </div>
        <% }); %>
      </div>
      <% } else { %>
      <p class="text-center">No blogs available.</p>
      <% } %>
    </div>

    <%- include("./partials/script") %>
  </body>
</html>
